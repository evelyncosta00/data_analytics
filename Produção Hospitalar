{"cells":[{"cell_type":"markdown","source":[],"metadata":{"id":"RYgePmsjd1A5"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"LJQsd6VnXvd0","executionInfo":{"status":"aborted","timestamp":1698282574447,"user_tz":180,"elapsed":16,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["import pandas as pd\n","import matplotlib.pyplot as plt\n","import matplotlib.ticker as ticker\n","import seaborn as sns"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":16,"status":"aborted","timestamp":1698282574448,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"c_pIjHtHYUi_"},"outputs":[],"source":["dados =pd.read_csv(\"ano_mes_atendimento.csv\", encoding= \"ISO-8859-1\",skiprows=3, sep=\";\", skipfooter = 12,thousands = \".\", decimal =\",\")"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":16,"status":"aborted","timestamp":1698282574448,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"nXVx-nWVb7z2"},"outputs":[],"source":["#5 últimas linhas\n","dados.tail()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":16,"status":"aborted","timestamp":1698282574449,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Oo4kPoCRZXGn"},"outputs":[],"source":["#média geral dos dados\n","dados.mean()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":15,"status":"aborted","timestamp":1698282574449,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"2mv5GHyjbXdS"},"outputs":[],"source":["#detalhes da base\n","dados.info ()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Tk6-Mrf5cDzp","executionInfo":{"status":"aborted","timestamp":1698282574450,"user_tz":180,"elapsed":16,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["pd.options.display.float_format = \"{:.2f}\".format"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":16,"status":"aborted","timestamp":1698282574451,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"n0CB3CwrcWfQ"},"outputs":[],"source":["dados.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5388,"status":"aborted","timestamp":1698282574451,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"_dGwx54tcksd"},"outputs":[],"source":["dados [\"2008/Ago\"].head ()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5368,"status":"aborted","timestamp":1698282574451,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Pc74K4sIg_vY"},"outputs":[],"source":["dados[\"2008/Ago\"].mean()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5344,"status":"aborted","timestamp":1698282574452,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"wvfuZ1FVha3l"},"outputs":[],"source":["\n","dados.plot(x= \"Unidade da Federação\",y=\"2008/Ago\")"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5328,"status":"aborted","timestamp":1698282574452,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"lnmTRgSLjFvD"},"outputs":[],"source":["#usando matplotlib.pyplot e matplotlib.ticker\n","#axis eixo (x e y) de uma matriz\n","\n","axis = dados.plot(x=\"Unidade da Federação\",y=\"2008/Ago\",kind=\"bar\",figsize =(9,6))\n","axis.yaxis.set_major_formatter(ticker.StrMethodFormatter(\"{x:,.2f}\"))\n","\n","plt.title (\"Unidade por federação\")\n","plt.xticks(rotation=45)\n","\n","plt.show()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5316,"status":"aborted","timestamp":1698282574453,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"zn8woNfuckqP"},"outputs":[],"source":["dados[[\"2008/Ago\", \"2008/Set\"]].head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5307,"status":"aborted","timestamp":1698282574453,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"3J_r8bNQcjz_"},"outputs":[],"source":["dados.columns"]},{"cell_type":"markdown","metadata":{"id":"XL_AV97-6WcD"},"source":["através da média descubro as colunas que não possuem valores nulos"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5289,"status":"aborted","timestamp":1698282574453,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"sG_pMBkh5pqs"},"outputs":[],"source":["#começa a partir de agosto/2007 pq antes disso tem muitos dados faltantes na base de atendimento(desde 1992)\n","colunas_usaveis = dados.mean().index.tolist()\n","colunas_usaveis.insert(0,\"Unidade da Federação\")\n","colunas_usaveis[:5] #não se usa head pois é uma lista e não a base"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5277,"status":"aborted","timestamp":1698282574454,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"-Nbkg3a36Ri2"},"outputs":[],"source":["dados_usaveis = dados[colunas_usaveis]\n","dados_usaveis.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5265,"status":"aborted","timestamp":1698282574454,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"sA6LG7vJ7IVV"},"outputs":[],"source":["dados_usaveis = dados_usaveis.set_index(\"Unidade da Federação\")\n","dados_usaveis.head(3)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5241,"status":"aborted","timestamp":1698282574454,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"9d8Otr4y8K8m"},"outputs":[],"source":["dados_usaveis[\"2019/Ago\"].head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5224,"status":"aborted","timestamp":1698282574455,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"DrNc5tH-88ie"},"outputs":[],"source":["#buscar pelo nome da unidade da federação (linha) os valores de todas as colunas desta linha.\n","dados_usaveis.loc[\"12 Acre\"]"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5213,"status":"aborted","timestamp":1698282574455,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"REH57JTZ9HD-"},"outputs":[],"source":["#buscar pelo número da linha (Unidade da federação) os valores de todas as colunas desta linha.\n","dados_usaveis.iloc[1]"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5191,"status":"aborted","timestamp":1698282574455,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"5FRcmoSM9WUF"},"outputs":[],"source":["#este grafico ficaria com a legenda de 26 linhas (unidade de federação), neste exemplo eu escondi a legenda\n","dados_usaveis.plot(figsize=(5,2),legend=False)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5178,"status":"aborted","timestamp":1698282574455,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"QoWQD1LP9rnQ"},"outputs":[],"source":["#devido o problema apresentado acima, é mais viável tranformar as linhas em colunas\n","#transformar o eixo x em tempo e y os estados, usar conceito de transpôr uma matriz, o que era coluna vira linha e vice-versa\n","dados_usaveis.T.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5165,"status":"aborted","timestamp":1698282574456,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"H1DpV1HA-c19"},"outputs":[],"source":["#separou as unidades de federação por cores, tranformando o y em valor gasto e y em ano/mes\n","dados_usaveis.T.plot(figsize=(10,4))"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5152,"status":"aborted","timestamp":1698282574456,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"N5iCOY1f-vLm"},"outputs":[],"source":["dados_usaveis.T.tail()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5140,"status":"aborted","timestamp":1698282574456,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"jiV8p2hF_DvG"},"outputs":[],"source":["dados_usaveis = dados_usaveis.drop(\"Total\", axis=1)\n","dados_usaveis.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5130,"status":"aborted","timestamp":1698282574457,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"7YFeKf5y_Qle"},"outputs":[],"source":["dados_usaveis.T.plot(figsize =(12,6))"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5119,"status":"aborted","timestamp":1698282574457,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"jUE8IfSI_XpX"},"outputs":[],"source":["dados_usaveis.T.max()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5105,"status":"aborted","timestamp":1698282574457,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Makys6JZ_9S_"},"outputs":[],"source":["dados_usaveis.T"]},{"cell_type":"markdown","metadata":{"id":"QzBnlEU2AaVn"},"source":["reposicionar legenda/colocar titulo nos dois eixos"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5093,"status":"aborted","timestamp":1698282574458,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"C2t9w50dBfq0"},"outputs":[],"source":["dados_usaveis.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5083,"status":"aborted","timestamp":1698282574458,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Q0h3kOkzBhOe"},"outputs":[],"source":["dados_usaveis.T.columns[:5]"]},{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":175},"executionInfo":{"elapsed":53,"status":"error","timestamp":1698282575172,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"135dEgOHBm1N","outputId":"c7798992-614a-42d2-b7d0-e4b85c0b0e9b"},"outputs":[{"output_type":"error","ename":"NameError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-2-e254877d1a20>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mdados_usaveis\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;36m7\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mT\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mplot\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfigsize\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m6\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mNameError\u001b[0m: name 'dados_usaveis' is not defined"]}],"source":["dados_usaveis [:7].T.plot(figsize=(10,6))"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5056,"status":"aborted","timestamp":1698282574458,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"0myhuV38B6Nx"},"outputs":[],"source":["#escolher amostra aleatoria dos dados, para não voltar sempre os 7 primeiros\n","dados_usaveis.sample(n=7)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5041,"status":"aborted","timestamp":1698282574459,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"aNPpMxTFChoX"},"outputs":[],"source":["dados_usaveis.sample(n=7).T.plot(figsize =(10,6))"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"OY6Ye_BDC34p","executionInfo":{"status":"aborted","timestamp":1698282574459,"user_tz":180,"elapsed":5039,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["#algoritmo pseudo aleatório... pseudo randomness\n","#5358 = seed\n","#regra : semente / 10, semente * 3 / 2\n","\n","#803.699\n","#regra 803.699,120.55485\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5024,"status":"aborted","timestamp":1698282574459,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"hbrlDnfySdf-"},"outputs":[],"source":["#steando o seed, fixando a \"aleatoriedade\"\n","import numpy as np\n","\n","np.random.seed(524387)\n","dados_usaveis.sample (n=7)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":5008,"status":"aborted","timestamp":1698282574460,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Rkz2Lxm-TW4n"},"outputs":[],"source":["dados_dos_7_estados = dados_usaveis.sample(n=7).T.plot(figsize=(10,6))"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4994,"status":"aborted","timestamp":1698282574460,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"prBYmDePT34y"},"outputs":[],"source":["#Total por estado\n","dados_usaveis [\"Total\"] = dados_usaveis.sum(axis = 1)\n","dados_usaveis.head()"]},{"cell_type":"markdown","metadata":{"id":"UBQQLJvkUY5j"},"source":["Ordenar o dataframe para que na primera linha tenha o maior gatso e na ultima o menor\n","\n","Adicionar 1 coluna com a região de cada estado\n","\n","Adicionar meu estado nesta lista de 7 estados\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4978,"status":"aborted","timestamp":1698282574460,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"EgtR29QkUSdu"},"outputs":[],"source":["#Removendo o total depoisde ordenar por ele\n","ordenados_por_total = dados_usaveis.sort_values(by=\"Total\", ascending=False)\n","ordenados_por_total = ordenados_por_total.drop(\"Total\",axis=1)\n","ordenados_por_total.head(5)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4964,"status":"aborted","timestamp":1698282574461,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"mACX_2o6ZdzN"},"outputs":[],"source":["ordenados_por_total.head(5).T.plot(figsize=(10,6))"]},{"cell_type":"markdown","metadata":{"id":"9vdPnFXBaZZT"},"source":["Adicionar meu estado aos 5 estados existentes e plotar"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"np6IlDgLaVYv","executionInfo":{"status":"aborted","timestamp":1698282574461,"user_tz":180,"elapsed":4961,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["#não visualizar as 6 primeiras colunas por conta do pico (migração do banco de dados)\n","colunas_interessadas = ordenados_por_total.columns[6:]\n","ordenados_por_total = ordenados_por_total[colunas_interessadas]"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4945,"status":"aborted","timestamp":1698282574461,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"bdD3fg-UbdtA"},"outputs":[],"source":["#apresentando o y dividido por milhão(melhorando a visualização)\n","ordenados_por_total = ordenados_por_total#/1_000_000\n","axis =ordenados_por_total.head(5).T.plot(figsize=(10,6))\n","#axis.yaxis.set_major_formatter(ticker.StrMethodFormatter(\"{x:,.0f}\"))\n","axis.set_ylabel(\"Gasto aprovado em milhões de reais\")\n","axis.set_ylabel (\"Mês\")"]},{"cell_type":"markdown","metadata":{"id":"Fe_lxx1Yc8N7"},"source":["Colocar titulo, formatar eixos\n","\n","pesquisar sort_index\n","\n","googlar os casos de dengues no brasil e verifica se há relação com os dados daqui (pois cogita-se que conforme os periodos de alta de casos de dengue aumenta o gasto da saude)\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4934,"status":"aborted","timestamp":1698282574461,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"0jVfCjbUb_dz"},"outputs":[],"source":["meses_filtrados = ordenados_por_total.columns[47:]\n","ordenados_por_total[meses_filtrados].head(3).T.plot(figsize=(12,6))\n","axis.set_ylabel(\"Gasto aprovado em milhões de reais\")\n","axis.set_ylabel (\"Mês\")"]},{"cell_type":"code","execution_count":3,"metadata":{"id":"PtBSJK11l1Mv","executionInfo":{"status":"ok","timestamp":1698282575175,"user_tz":180,"elapsed":52,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["def plota_gastos_por_mes (dados,figsize =(10,6)):\n","  axis = dados.T.plot(figsize =figsize)\n","  axis.set_ylabel(\"gasto aprovado em milhões de reais\")\n","  axis.set_xlabel (\"mês\")"]},{"cell_type":"code","execution_count":4,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":193},"executionInfo":{"elapsed":53,"status":"error","timestamp":1698282575176,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"ppS_USo4m69v","outputId":"7134da6e-4dad-4d30-bbd5-ca6d9e84761f"},"outputs":[{"output_type":"error","ename":"NameError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-4-1dee3b68d15d>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mplota_gastos_por_mes\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mordenados_por_total\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mmeses_filtrados\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhead\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0;31m#plt.ylim (0,600)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mNameError\u001b[0m: name 'ordenados_por_total' is not defined"]}],"source":["plota_gastos_por_mes (ordenados_por_total[meses_filtrados].head(3))\n","#plt.ylim (0,600)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4903,"status":"aborted","timestamp":1698282574461,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"j9VhvpAC_5fg"},"outputs":[],"source":["plota_gastos_por_mes (ordenados_por_total[ordenados_por_total.columns[45:70]].head(3))\n","#plt.ylim (0,340) #(limite,verificar)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4888,"status":"aborted","timestamp":1698282574462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"8H_yoPJ_AIjJ"},"outputs":[],"source":["plota_gastos_por_mes (ordenados_por_total[ordenados_por_total.columns[-12:]].head(3)) #12 ultimas colunas\n","#plt.ylim (0,340) #(limite,verificar)"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4875,"status":"aborted","timestamp":1698282574462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"PTqE1FAjAnsg"},"outputs":[],"source":["plota_gastos_por_mes (ordenados_por_total.head(5),figsize = (6,6))"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4859,"status":"aborted","timestamp":1698282574462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"K0j38oL3ICxT"},"outputs":[],"source":["plota_gastos_por_mes (ordenados_por_total.head(5),figsize = (20,6))\n","#plt.ylim(640,0)"]},{"cell_type":"markdown","metadata":{"id":"mlnXvQu4gCJt"},"source":["Desafio: Padronizar os ticks verticais para espaçamento 12 em 12 unidades (umavez por ano)\n","2.Escolher e utilizar outras cores para saltar mais os olhos\n","3.Colocar uma grid horizontal e vertical que não seja intrusivo\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4849,"status":"aborted","timestamp":1698282574462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"FG7XjJKBsGgG"},"outputs":[],"source":["mes_mais_recente = ordenados_por_total.columns [-1]\n","mes_mais_recente"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4834,"status":"aborted","timestamp":1698282574462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"0qt72PwkshTf"},"outputs":[],"source":["gastos_do_mais_recente = ordenados_por_total[mes_mais_recente]\n","gastos_do_mais_recente.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4823,"status":"aborted","timestamp":1698282574463,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"KiT1W1e9tGh-"},"outputs":[],"source":["gastos_do_mais_recente.plot()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4810,"status":"aborted","timestamp":1698282574463,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"NjsHn9LbtMZN"},"outputs":[],"source":["gastos_do_mais_recente.plot(kind='pie',figsize = (20,6))"]},{"cell_type":"markdown","metadata":{"id":"FG_F9JwUth59"},"source":["*   Dificil de identificar elementos\n","*   Qual é o maior e menor? Qual é maior que qual?\n","*   Qual a diferença de proporcionalidade?\n","*   Está ordenado?\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4795,"status":"aborted","timestamp":1698282574463,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Fzi20Up5tVaW"},"outputs":[],"source":["#aleatorio\n","gastos_do_mais_recente.sample(frac=1).plot(kind='pie')"]},{"cell_type":"markdown","metadata":{"id":"YUgTaEHEvYu2"},"source":["\n","\n","*  Não dá pra saber a ordem\n","*  Estamos sendo iludidos em relação às proporções\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4785,"status":"aborted","timestamp":1698282574463,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"sSs9lerOu1N2"},"outputs":[],"source":["gastos_do_mais_recente"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4771,"status":"aborted","timestamp":1698282574463,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"mNo7nquV2lXd"},"outputs":[],"source":["\n","#Quanto a mais os estados gastaram em relação ao paraná\n","gastos_do_mais_recente/gastos_do_mais_recente.loc[\"41 Paraná\"]"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4759,"status":"aborted","timestamp":1698282574464,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"dLKGY00l2tod"},"outputs":[],"source":["tabela_de_comparacao = gastos_do_mais_recente/gastos_do_mais_recente.loc[\"41 Paraná\"]\n","tabela_de_comparacao.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Rw8c6Ezb4BtE","executionInfo":{"status":"aborted","timestamp":1698282574464,"user_tz":180,"elapsed":4756,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["#barras na horizontal\n","#tabela_de_comparacao.plot(kind = \"barh\")"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4742,"status":"aborted","timestamp":1698282574464,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"-6L39dJ54Pkv"},"outputs":[],"source":["tabela_de_comparacao.plot(kind = \"bar\")"]},{"cell_type":"code","execution_count":5,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":193},"executionInfo":{"elapsed":51,"status":"error","timestamp":1698282575177,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"QwvgTl2f4ZvC","outputId":"4e01d78a-80ed-4699-b4f5-0c0d0f927361"},"outputs":[{"output_type":"error","ename":"NameError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-5-08b0ba4c7ff1>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mtabela_de_comparacao\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mtabela_de_comparacao\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msort_values\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mascending\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mFalse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0mtabela_de_comparacao\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mplot\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkind\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"bar\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mNameError\u001b[0m: name 'tabela_de_comparacao' is not defined"]}],"source":["tabela_de_comparacao = tabela_de_comparacao.sort_values(ascending=False)\n","tabela_de_comparacao.plot(kind=\"bar\")"]},{"cell_type":"markdown","metadata":{"id":"vHt4XL2p5UlX"},"source":["# Módulo 2"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"J9rpk44Vuu2k","executionInfo":{"status":"aborted","timestamp":1698282574464,"user_tz":180,"elapsed":4720,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["#ibge_estimativa = pd.read_excel('/content/POPULCAO_IBGE.xls')\n","#ibge_estimativa.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"cXhM9jHgu9d0","executionInfo":{"status":"aborted","timestamp":1698282574464,"user_tz":180,"elapsed":4718,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["dados_da_populacao = \"\"\"Posição\tUnidade federativa\tPopulação\t% da pop. total\tPaís comparável\n","(habitantes)\n","\n","1\t São Paulo\t41 262 199\t21,88%\t Espanha (46 754 778)\n","2\t Minas Gerais\t19 597 330\t10,11%\t Burquina Fasso (20 903 273)\n","3\t Rio de Janeiro\t15 989 929\t7,91%\t Camboja (16 718 965)\n","4\t Bahia\t14 016 906\t6,96%\t Zimbabwe (14 862 924)\n","5\t Paraná\t10 444 526\t5,64%\t Tunísia (11 818 619)\n","6\t Rio Grande do Sul\t10 693 929\t5,36%\t Cuba (11 326 616)\n","7\t Pernambuco\t8 796 448\t4,46%\t Áustria (9 006 398)\n","8\t Ceará\t8 452 381\t4,33%\t Papua-Nova Guiné (8 947 024)\n","9\t Pará\t7 581 051\t4,10%\t Suíça (8 654 622)\n","10\t Santa Catarina\t6 248 436\t3,75%\t Paraguai (7 132 538)\n","11\t Goiás\t6 003 788\t3,47%\t Bulgária (6 948 445)\n","12\t Maranhão\t6 574 789\t3,34%\t Bulgária (6 948 445)\n","13\t Paraíba\t3 766 528\t1,96%\t Geórgia (3 989 167)\n","14\t Amazonas\t3 483 985\t1,94%\t Geórgia (3 989 167)\n","15\t Espírito Santo\t3 514 952\t1,89%\t Geórgia (3 989 167)\n","16\t Mato Grosso\t3 035 122\t1,80%\t Geórgia (3 989 167)\n","17\t Rio Grande do Norte\t3 168 027\t1,63%\t Uruguai (3 473 730)\n","18\t Piauí\t3 118 360\t1,61%\t Bósnia e Herzegovina (3 280 819)\n","19\t Alagoas\t3 120 494\t1,54%\t Mónaco (3 278 290)\n","20\t Distrito Federal\t2 570 160\t1,39%\t Armênia (2 963 243)\n","21\t Mato Grosso do Sul\t2 449 024\t1,36%\t Albânia (2 877 797)\n","22\t Sergipe\t2 068 017\t1,09%\t Gabão (2 225 734)\n","23\t Rondônia\t1 562 409\t0,78%\t Bahrein (1 701 575)\n","24\t Tocantins\t1 383 445\t0,74%\t Guiné Equatorial (1 402 985)\n","25\t Acre\t733 559\t0,41%\t Comores (869 601)\n","26\t Amapá\t669 526\t0,36%\t Guiné (786 552)\n","27\t Roraima\t450 479\t0,31%\t Montenegro (649 335)\"\"\"\n","#fonte https://pt.wikipedia.org/wiki/Lista_de_unidades_federativas_do_Brasil_por_popula%C3%A7%C3%A3o\n","#fonte indirea IBGE"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4702,"status":"aborted","timestamp":1698282574465,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"9YHOr3IG29Id"},"outputs":[],"source":["from io import StringIO\n","#\\t = tab\n","dados_da_populacao_io = StringIO(dados_da_populacao)\n","\n","populacao = pd.read_csv(dados_da_populacao_io, sep=\"\\t\")\n","#remvendo valores nan\n","populacao = populacao.dropna()\n","populacao.head()"]},{"cell_type":"markdown","metadata":{"id":"WgvlaLgS8k_S"},"source":["ler diretamente da wikipedia versão html\n","pesquisar documentacao string io"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4689,"status":"aborted","timestamp":1698282574465,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"pRPkiV8i3m0F"},"outputs":[],"source":["populacao.columns = [\"posicao\",\"uf\",\"populacao\",\"porcentagem\",\"pais_comparavel\"]\n","#remover espaços em branco que existem entre as casas decimais da coluna populacao\n","populacao[\"populacao\"]=populacao[\"populacao\"].str.replace(\" \",\"\").astype(int)\n","populacao = populacao[[\"uf\",\"populacao\"]]\n","populacao.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4677,"status":"aborted","timestamp":1698282574465,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"uWsIPph-9kpK"},"outputs":[],"source":["populacao.info()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4695,"status":"aborted","timestamp":1698282574496,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"LptobAAJGw5Z"},"outputs":[],"source":["populacao.describe()"]},{"cell_type":"markdown","metadata":{"id":"m7qgT_NjH3o0"},"source":["quais sã os dtypes que o pandas possui\n","explorar a str do pandas"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4682,"status":"aborted","timestamp":1698282574496,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Z9c8oUvYHaKI"},"outputs":[],"source":["#utilizando display pq se nã só mostra ultimo head, e eu quero ver os dois\n","display(gastos_do_mais_recente.head())\n","display(populacao.head())"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4670,"status":"aborted","timestamp":1698282574497,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"Vt6_HuuTLO0L"},"outputs":[],"source":["populacao = populacao.set_index(\"uf\")\n","populacao.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4657,"status":"aborted","timestamp":1698282574497,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"yiHZqen-Mmk3"},"outputs":[],"source":["#tirando espaços da direta e esquerda\n","populacao.index = populacao.index.str.strip()\n","populacao.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4643,"status":"aborted","timestamp":1698282574498,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"nT8AjCuMJfnK"},"outputs":[],"source":["#remover os três primeiros carcteres da gastos_do_mais_recente q são o indice para cruzar tabelas\n","gastos_do_mais_recente.index = gastos_do_mais_recente.index.str[3:]\n","gastos_do_mais_recente.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4626,"status":"aborted","timestamp":1698282574498,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"BLvCld18KtUR"},"outputs":[],"source":["for estado in gastos_do_mais_recente.index:\n","  populacao.index = populacao.index.str.replace(f\"{estado} {estado}\", estado)\n","populacao.index"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4609,"status":"aborted","timestamp":1698282574499,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"sjIy_qYxQMSk"},"outputs":[],"source":["gastos_e_populacao = populacao.join(gastos_do_mais_recente)\n","gastos_e_populacao.head()\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"kzyx6kIzQYhv","executionInfo":{"status":"aborted","timestamp":1698282574500,"user_tz":180,"elapsed":4606,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"outputs":[],"source":["#convertendo dados\n","ultima_coluna = gastos_e_populacao.columns[-1]\n","gastos_e_populacao[\"gastos\"] = gastos_e_populacao[ultima_coluna]\n","#gastos_e_populacao.plot()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4591,"status":"aborted","timestamp":1698282574500,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"OLF2HPS0hgqq"},"outputs":[],"source":["gastos_e_populacao.loc[[\"Ceará\",\"Pará\"]]"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4579,"status":"aborted","timestamp":1698282574501,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"nD69_kWeiM-K"},"outputs":[],"source":["\n","\t43208380.74/8452381\n","\t#reais  por mes"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4567,"status":"aborted","timestamp":1698282574501,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"g8JbyPsFi7pB"},"outputs":[],"source":["\t31709760.73\t/7581051"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4552,"status":"aborted","timestamp":1698282574502,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"tSn2R-UbjABZ"},"outputs":[],"source":["gastos_e_populacao[\"gasto_por_habitante\"] = gastos_e_populacao[\"gastos\"] / gastos_e_populacao[\"populacao\"]\n","gastos_e_populacao.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4538,"status":"aborted","timestamp":1698282574502,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"YMNdXV9l4i7f"},"outputs":[],"source":["gastos_e_populacao1 = gastos_e_populacao.gasto_por_habitante.unique()\n","gastos_e_populacao1 = gastos_e_populacao.sort_values(by=\"gasto_por_habitante\", ascending = False)\n","gastos_e_populacao1.head()"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4523,"status":"aborted","timestamp":1698282574502,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"RZXhl_Q-zemr"},"outputs":[],"source":["gastos_e_populacao1[\"gasto_por_habitante\"].plot(kind=\"bar\")\n","#axis.yaxis.set_major_formatter(ticker.StrMethodFormatter(\"{x:,.0f}\"))\n","plt.xlabel('Estado')\n","plt.ylabel('Gasto por habitante')"]},{"cell_type":"code","execution_count":null,"metadata":{"executionInfo":{"elapsed":4507,"status":"aborted","timestamp":1698282574503,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"},"user_tz":180},"id":"ZGyXDqXr2E3P"},"outputs":[],"source":["sns.scatterplot (data = gastos_e_populacao / 1_000_000, x=\"populacao\", y=\"gastos\")"]},{"cell_type":"code","source":["plt.figure(figsize=(7,7))\n","sns.scatterplot (data = gastos_e_populacao / 1_000_000, x=\"populacao\", y=\"gastos\")"],"metadata":{"id":"PypXAL5qarOV","executionInfo":{"status":"aborted","timestamp":1698282574503,"user_tz":180,"elapsed":4491,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(5,4))\n","sns.scatterplot (data = gastos_e_populacao, x=\"populacao\", y=\"gasto_por_habitante\")"],"metadata":{"id":"1-vHnGBxbn_g","executionInfo":{"status":"aborted","timestamp":1698282574503,"user_tz":180,"elapsed":4476,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["  ordenados_por_total.index = ordenados_por_total.index.str[3:].str.strip()\n","  ordenados_por_total.head()"],"metadata":{"id":"vheHJu6csH7Q","executionInfo":{"status":"aborted","timestamp":1698282574503,"user_tz":180,"elapsed":4462,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def insere_gastos_e_gasto_por_habitante(ordenados_por_total, gastos_e_populacao,mes):\n","  gastos = ordenados_por_total[mes]\n","\n","  gastos_e_populacao[f\"gastos_{mes}\"] = gastos\n","  gastos_e_populacao[f\"gasto_por_habitante{mes}\"] = gastos_e_populacao[f\"gastos_{mes}\"] / gastos_e_populacao[\"populacao\"]\n","  return gastos_e_populacao\n","\n","  #print(gastos.head())\n","  #print(gastos_e_populacao.head())"],"metadata":{"id":"nzMo4sChd93H","executionInfo":{"status":"aborted","timestamp":1698282574503,"user_tz":180,"elapsed":4460,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["gastos_e_populacao = insere_gastos_e_gasto_por_habitante(ordenados_por_total,gastos_e_populacao,ordenados_por_total.columns[-1])\n","gastos_e_populacao = insere_gastos_e_gasto_por_habitante(ordenados_por_total,gastos_e_populacao,ordenados_por_total.columns[-2])\n","gastos_e_populacao = insere_gastos_e_gasto_por_habitante(ordenados_por_total,gastos_e_populacao,ordenados_por_total.columns[-3])\n","gastos_e_populacao.head()"],"metadata":{"id":"QaLRNwTMdYMX","executionInfo":{"status":"aborted","timestamp":1698282574504,"user_tz":180,"elapsed":4444,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.scatterplot(data =gastos_e_populacao, x=\"populacao\",y=\"gastos_2021/Ago\")\n","sns.scatterplot(data =gastos_e_populacao, x=\"populacao\",y=\"gastos_2021/Jul\")\n","sns.scatterplot(data =gastos_e_populacao, x=\"populacao\",y=\"gastos_2021/Jun\")"],"metadata":{"id":"1Wwpm4F0ndvL","executionInfo":{"status":"aborted","timestamp":1698282574504,"user_tz":180,"elapsed":4429,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["ordenados_por_total.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":175},"id":"X_mvU-F55erj","executionInfo":{"status":"error","timestamp":1698282575178,"user_tz":180,"elapsed":46,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}},"outputId":"70312e95-3b7a-411b-d8d6-f1536d5d91c7"},"execution_count":6,"outputs":[{"output_type":"error","ename":"NameError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-6-b287d34f1b9f>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mordenados_por_total\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mhead\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;31mNameError\u001b[0m: name 'ordenados_por_total' is not defined"]}]},{"cell_type":"code","source":["sns.scatterplot(x=ordenados_por_total.columns,y=ordenados_por_total.loc[\"São Paulo\"])"],"metadata":{"id":"hXz6M3lR6XSG","executionInfo":{"status":"aborted","timestamp":1698282574505,"user_tz":180,"elapsed":4399,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal = ordenados_por_total.replace(\"\t\",\"\")\n","#mensal.head()"],"metadata":{"id":"PP0BMtKH6uZL","executionInfo":{"status":"aborted","timestamp":1698282574505,"user_tz":180,"elapsed":4394,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["#print(mensal.columns)"],"metadata":{"id":"Z2bI7PhLNFsN","executionInfo":{"status":"aborted","timestamp":1698282574505,"user_tz":180,"elapsed":4392,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal = mensal.T\n","mensal.head()"],"metadata":{"id":"5c1uHImtNZwy","executionInfo":{"status":"aborted","timestamp":1698282574506,"user_tz":180,"elapsed":4380,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal.index"],"metadata":{"id":"QO-BYPM-PU5o","executionInfo":{"status":"aborted","timestamp":1698282574506,"user_tz":180,"elapsed":4369,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = barplot(data = mensal, x= mensal.index, y= \"São Paulo\" )\n","plt.xticks(rotation=30)\n","axis.xaxis.set_major_locator(ticker.IndexLocator(base=12,offset=0))\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"UfYiraFl7Sm-","executionInfo":{"status":"error","timestamp":1698282574445,"user_tz":180,"elapsed":42,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}},"colab":{"base_uri":"https://localhost:8080/","height":245},"outputId":"7706dd6c-7078-4012-cc16-25f5957a6c78"},"execution_count":1,"outputs":[{"output_type":"error","ename":"NameError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-1-0a92f5ce864a>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfigure\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfigsize\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m10\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;36m6\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0maxis\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mbarplot\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdata\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mmensal\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mx\u001b[0m\u001b[0;34m=\u001b[0m \u001b[0mmensal\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mindex\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m=\u001b[0m \u001b[0;34m\"São Paulo\"\u001b[0m \u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mxticks\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mrotation\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m30\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m \u001b[0maxis\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mxaxis\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mset_major_locator\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mticker\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mIndexLocator\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mbase\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m12\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0moffset\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mgrid\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mlinestyle\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"--\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mNameError\u001b[0m: name 'plt' is not defined"]}]},{"cell_type":"code","source":[],"metadata":{"id":"Fe3ogMijIOj9","executionInfo":{"status":"aborted","timestamp":1698282575179,"user_tz":180,"elapsed":44,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal.info()"],"metadata":{"id":"AwLs0R1_kiol","executionInfo":{"status":"aborted","timestamp":1698282575181,"user_tz":180,"elapsed":46,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def f(x):\n","  print(f\"valor: {x}\")"],"metadata":{"id":"wN_55rxKkj2H","executionInfo":{"status":"aborted","timestamp":1698282575183,"user_tz":180,"elapsed":48,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["from datetime import date\n","\n","meses = {\n","    \"Jan\": 1,\n","    \"Fev\": 2,\n","    \"Mar\": 3,\n","    \"Abr\": 4,\n","    \"Mai\": 5,\n","    \"Jun\": 6,\n","    \"Jul\": 7,\n","    \"Ago\": 8,\n","    \"Set\": 9,\n","    \"Out\": 10,\n","    \"Nov\": 11,\n","    \"Dez\": 12,\n","}\n","\n","def para_dia(ano_mes: str):\n","  ano: int =int(ano_mes[:4])\n","  mes_como_string: str = ano_mes[5:]\n","  mes: int = meses [mes_como_string]\n","  return date(ano,mes,1)"],"metadata":{"id":"yu--eTuYlSPj","executionInfo":{"status":"aborted","timestamp":1698282575184,"user_tz":180,"elapsed":48,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal.index.map(para_dia)"],"metadata":{"id":"OcyDwA4ToRuW","executionInfo":{"status":"aborted","timestamp":1698282575185,"user_tz":180,"elapsed":49,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal.index = mensal.index.map(para_dia)\n","mensal.head()\n"],"metadata":{"id":"tnA1J4cxon-h","executionInfo":{"status":"aborted","timestamp":1698282575185,"user_tz":180,"elapsed":49,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = sns.lineplot(data = mensal, x= mensal.index, y= \"São Paulo\" )\n","#plt.xticks(rotation=30)\n","#axis.xaxis.set_major_locator(ticker.IndexLocator(base=12,offset=0))\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"dOsVfZveo6gM","executionInfo":{"status":"aborted","timestamp":1698282575186,"user_tz":180,"elapsed":50,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal.index[0]"],"metadata":{"id":"a9qred68pdTQ","executionInfo":{"status":"aborted","timestamp":1698282575187,"user_tz":180,"elapsed":51,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = sns.lineplot(data = mensal, x= mensal.index, y= \"São Paulo\" )\n","axis = sns.lineplot(data = mensal, x= mensal.index, y= \"Minas Gerais\" )\n","plt.xticks(rotation=30)\n","#axis.xaxis.set_major_locator(ticker.IndexLocator(base=12,offset=0))\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"aWj9oc4hqkfo","executionInfo":{"status":"aborted","timestamp":1698282575187,"user_tz":180,"elapsed":51,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto = mensal.reset_index().melt(id_vars=[\"index\"],value_vars = mensal.columns)\n","mensal_aberto.columns =[\"mes\",\"uf\",\"gastos\"]\n","mensal_aberto.head()\n"],"metadata":{"id":"4VPNZoEQqtz8","executionInfo":{"status":"aborted","timestamp":1698282575188,"user_tz":180,"elapsed":51,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = sns.lineplot(data = mensal_aberto, x= \"mes\", y= \"gastos\", hue=\"uf\" )\n","plt.xticks(rotation=30)\n","#axis.xaxis.set_major_locator(ticker.IndexLocator(base=12,offset=0))\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"astSvkQrtUI1","executionInfo":{"status":"aborted","timestamp":1698282575189,"user_tz":180,"elapsed":52,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto = mensal.reset_index().melt(id_vars=[\"index\"],value_vars = mensal.columns)\n","mensal_aberto.columns =[\"dia_mes_ano\",\"uf\",\"gastos\"]\n","mensal_aberto.head()\n"],"metadata":{"id":"kcwHj3DUuxGH","executionInfo":{"status":"aborted","timestamp":1698282575191,"user_tz":180,"elapsed":54,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = sns.lineplot(data = mensal_aberto, x= \"dia_mes_ano\", y= \"gastos\", hue=\"uf\" )\n","plt.xticks(rotation=30)\n","#axis.xaxis.set_major_locator(ticker.IndexLocator(base=12,offset=0))\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"m4YChW51wmZ9","executionInfo":{"status":"aborted","timestamp":1698282575192,"user_tz":180,"elapsed":55,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto.info()"],"metadata":{"id":"onMUvf_wwvo5","executionInfo":{"status":"aborted","timestamp":1698282575193,"user_tz":180,"elapsed":56,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto[\"dia_mes_ano\"]= mensal_aberto[\"dia_mes_ano\"].astype(\"datetime64\")\n","mensal_aberto.info()"],"metadata":{"id":"c46YblEjxq1f","executionInfo":{"status":"aborted","timestamp":1698282575193,"user_tz":180,"elapsed":55,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto[\"dia_mes_ano\"].dt.year"],"metadata":{"id":"1P9hCVMPyCaz","executionInfo":{"status":"aborted","timestamp":1698282575194,"user_tz":180,"elapsed":56,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto[\"ano\"] = mensal_aberto[\"dia_mes_ano\"].dt.year\n","mensal_aberto[\"mes\"] = mensal_aberto[\"dia_mes_ano\"].dt.month\n","#mensal_aberto[\"dia\"] = mensal_aberto[\"dia_mes_ano\"].dt.day\n","mensal_aberto.head()"],"metadata":{"id":"ellm5DAPzM2c","executionInfo":{"status":"aborted","timestamp":1698282575195,"user_tz":180,"elapsed":57,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto.query(\"uf=='São Paulo'\")"],"metadata":{"id":"Y4Kp9dMNziB4","executionInfo":{"status":"aborted","timestamp":1698282575195,"user_tz":180,"elapsed":57,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["plt.figure(figsize=(10,6))\n","axis = sns.lineplot(data = mensal_aberto.query(\"uf=='São Paulo'\"), x= \"dia_mes_ano\", y= \"gastos\", hue=\"ano\" )\n","plt.xticks(rotation=30)\n","plt.grid(linestyle=\"--\")\n","plt.show()"],"metadata":{"id":"rUn9nikuzzab","executionInfo":{"status":"aborted","timestamp":1698282575196,"user_tz":180,"elapsed":58,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["dias_por_mes = {\n","    1:31,\n","    2:28,\n","    3:31,\n","    4:30,\n","    5:31,\n","    6:30,\n","    7:31,\n","    8:31,\n","    9:30,\n","    10:31,\n","    11:30,\n","    12:31\n","}"],"metadata":{"id":"ZRj4aQgf1T2B","executionInfo":{"status":"aborted","timestamp":1698282575198,"user_tz":180,"elapsed":60,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_aberto[\"gato_diario\"] = mensal_aberto[\"gastos\"] / mensal_aberto[\"mes\"].map(dias_por_mes)\n","mensal_aberto.head()"],"metadata":{"id":"hTn8AGwp1p5d","executionInfo":{"status":"aborted","timestamp":1698282575199,"user_tz":180,"elapsed":61,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["mensal_meu_estado = mensal_aberto.query(\"uf=='São Paulo'\")\n","mensal_meu_estado.head()"],"metadata":{"id":"a72tkuUb17UX","executionInfo":{"status":"aborted","timestamp":1698282575199,"user_tz":180,"elapsed":60,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["gastos_por_ano = mensal_meu_estado.groupby(\"ano\").sum()\n","gastos_por_ano.head()"],"metadata":{"id":"yYRklwOF39lX","executionInfo":{"status":"aborted","timestamp":1698282575200,"user_tz":180,"elapsed":61,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.scatterplot(data=gastos_por_ano, x= gastos_por_ano.index, y=\"gastos\")"],"metadata":{"id":"qmPDGP8t4LLC","executionInfo":{"status":"aborted","timestamp":1698282575200,"user_tz":180,"elapsed":61,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.lineplot(data=gastos_por_ano, x= gastos_por_ano.index, y=\"gastos\")"],"metadata":{"id":"oiUOP9NQ6Nki","executionInfo":{"status":"aborted","timestamp":1698282575201,"user_tz":180,"elapsed":62,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["paleta = sns.color_palette(\"rocket_r\",24)\n","sns.barplot(data=gastos_por_ano, x=gastos_por_ano.index, y=\"gastos\",palette = paleta)\n","plt.xticks(rotation=30)\n","#plt.grid(linestyle=\"--\")"],"metadata":{"id":"E47ij7Eo6WpP","executionInfo":{"status":"aborted","timestamp":1698282575201,"user_tz":180,"elapsed":62,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["estados = [\"Amazonas\",\"Mato Grosso\",\"Ceará\"]\n","\n","por_ano_dos_estados = mensal_aberto.query(\"uf in @estados\").groupby([\"uf\",\"ano\"]).sum().reset_index()\n","por_ano_dos_estados.head()"],"metadata":{"id":"96gsAT-669b3","executionInfo":{"status":"aborted","timestamp":1698282575202,"user_tz":180,"elapsed":62,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.barplot(data=por_ano_dos_estados ,x=\"ano\",y=\"gastos\",hue=\"uf\")\n","#plt.xticks(rotation=30)"],"metadata":{"id":"PtxUDYey-FRM","executionInfo":{"status":"aborted","timestamp":1698282575203,"user_tz":180,"elapsed":63,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.lineplot(data=por_ano_dos_estados ,x=\"ano\",y=\"gastos\",hue=\"uf\")"],"metadata":{"id":"ekSNUb_9_B4P","executionInfo":{"status":"aborted","timestamp":1698282575203,"user_tz":180,"elapsed":63,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.catplot(data=por_ano_dos_estados ,x=\"ano\",y=\"gastos\",col=\"uf\",kind=\"bar\")"],"metadata":{"id":"CNcy5g1F_VUC","executionInfo":{"status":"aborted","timestamp":1698282575203,"user_tz":180,"elapsed":63,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["sns.catplot(data=por_ano_dos_estados ,x=\"ano\",y=\"gastos\",row=\"uf\",kind=\"bar\")"],"metadata":{"id":"vzMt6pnc_i_e","executionInfo":{"status":"aborted","timestamp":1698282575204,"user_tz":180,"elapsed":64,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]},{"cell_type":"code","source":[],"metadata":{"id":"4tt_2fxz_8ZG","executionInfo":{"status":"aborted","timestamp":1698282575204,"user_tz":180,"elapsed":64,"user":{"displayName":"Evelyn Coding","userId":"10617016559492349048"}}},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyNVTlOdEw/2+j7ECwGP9P+4"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}